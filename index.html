<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Supabase Social Media</title>
<link rel="stylesheet" href="style.css" />
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>
<script defer src="main.js"></script>
</head>
<body>

<header>
  <h1>Supabase Social Media</h1>
  <nav id="navButtons">
    <button id="btnLoginNav">Login</button>
    <button id="btnSignupNav">Sign Up</button>
    <button id="btnLogout" class="hidden">Logout</button>
    <button id="btnProfile" class="hidden">My Profile</button>
  </nav>
</header>

<section id="errorMsg" role="alert"></section>

<!-- Login -->
<section id="loginView" class="view">
  <h2>Login</h2>
  <input type="email" id="loginEmail" placeholder="Email" autocomplete="username" />
  <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password" />
  <button id="btnLogin" disabled>Login</button>
</section>

<!-- Signup -->
<section id="signupView" class="view hidden">
  <h2>Sign Up</h2>
  <input type="email" id="signupEmail" placeholder="Email" autocomplete="username" />
  <input type="text" id="signupUsername" placeholder="Username" />
  <input type="password" id="signupPassword" placeholder="Password" autocomplete="new-password" />
  <button id="btnSignup" disabled>Sign Up</button>
</section>

<!-- Feed -->
<section id="feedView" class="view hidden">
  <h2>Welcome, <span id="currentUserName"></span>!</h2>

  <div id="postForm">
    <textarea id="postContent" placeholder="What's on your mind?" rows="3"></textarea>
    <input type="file" id="mediaInput" accept="image/*,video/*" multiple />
    <button id="btnPost" disabled>Post</button>
  </div>

  <div id="feed"></div>
</section>

<!-- Profile -->
<section id="profileView" class="view hidden">
  <h2>Profile: <span id="profileUsername"></span></h2>
  <button id="btnBackToFeed">Back to Feed</button>
  <div id="profilePosts"></div>
</section>

<!-- Search -->
<section id="searchView" class="view hidden">
  <h2>Search Users</h2>
  <input type="text" id="searchInput" placeholder="Search users by username..." />
  <button id="btnSearch">Search</button>
  <div id="searchResults"></div>
</section>

</body>
</html>
